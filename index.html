<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VEEHS BEAUTY</title>
    <link rel="icon" type="image/x-icon" href="./main.ico">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <style>
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-card: rgba(255, 255, 255, 0.05);
            --bg-card-hover: rgba(255, 255, 255, 0.08);
            --text-primary: #ffffff;
            --text-secondary: #e0e0e0;
            --text-muted: #a0a0a0;
            --accent-gold: #d4af37;
            --accent-rose: #ff6b9d;
            --accent-purple: #a855f7;
            --gradient-luxury: linear-gradient(135deg, #d4af37 0%, #ff6b9d 50%, #a855f7 100%);
            --gradient-card: linear-gradient(145deg, rgba(212, 175, 55, 0.1), rgba(255, 107, 157, 0.1));
            --shadow-luxury: 0 20px 40px rgba(212, 175, 55, 0.1);
            --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.3);
            --border-luxury: 1px solid rgba(212, 175, 55, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Pattern */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 107, 157, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(168, 85, 247, 0.1) 0%, transparent 50%);
            z-index: -2;
        }

        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .main-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            padding: 2rem 1rem;
        }

        .header-section {
            text-align: center;
            margin-bottom: 1.5rem;
            padding: 1.5rem 0;
        }

        .logo-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto 1rem;
            border-radius: 50%;
            overflow: hidden;
            background: var(--gradient-luxury);
            padding: 4px;
        }

        .logo-container::before {
            content: '';
            position: absolute;
            inset: -10px;
            border-radius: 50%;
            background: var(--gradient-luxury);
            opacity: 0.3;
            blur: 20px;
            z-index: -1;
        }

        .profile-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            background: var(--bg-secondary);
        }

        .brand-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3rem, 8vw, 5rem);
            font-weight: 700;
            margin-bottom: 1rem;
            background: var(--gradient-luxury);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
            letter-spacing: -2px;
        }

        .brand-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            text-transform: uppercase;
            letter-spacing: 4px;
            font-weight: 300;
        }

        .rotating-message {
            font-size: 1.1rem;
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
            transition: opacity 0.5s ease;
            min-height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .services-section {
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            color: var(--accent-gold);
        }

        .carousel-wrapper {
            position: relative;
            overflow: hidden;
            margin-bottom: 2rem;
            padding: 2rem 0; /* Adicionar espaço para os efeitos de hover */
        }

        .carousel {
            display: flex;
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform;
            gap: 2rem;
            min-width: 0;
            padding: 1rem 0; /* Espaço para efeitos de escala */
        }

        .service-card {
            flex: 0 0 380px;
            min-width: 0;
            background: var(--bg-secondary); /* Fundo mais escuro e opaco como na imagem */
            border: 1px solid rgba(212, 175, 55, 0.2); /* Borda sutil dourada */
            border-radius: 24px;
            padding: 2.5rem;
            position: relative;
            transition: all 0.4s ease;
            cursor: pointer;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3); /* Sombra como na imagem */
            transform: scale(0.9);
            box-sizing: border-box;
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-card);
            opacity: 0;
            transition: opacity 0.4s ease;
            z-index: -1;
        }

        .service-card:hover {
            transform: translateY(-10px) scale(1); /* Efeito de elevação e escala */
            box-shadow: 0 12px 40px rgba(212, 175, 55, 0.2); /* Sombra mais pronunciada no hover */
            border-color: var(--accent-gold);
        }

        .service-price {
            font-size: 1.3rem;
            color: var(--text-primary);
            font-weight: 500;
            margin-bottom: 1rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .service-description {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.4;
            margin-bottom: 1rem;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .service-benefits {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 1.5rem;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .service-card:hover::before {
            opacity: 1;
        }

        .service-card:hover {
            transform: translateY(-10px) scale(0.95);
            box-shadow: var(--shadow-luxury);
            border-color: var(--accent-gold);
            z-index: 2;
        }

        .service-card.active {
            background: var(--bg-card-hover); /* Mantém o hover como base ativa */
            border-color: var(--accent-gold);
            box-shadow: 0 12px 40px rgba(212, 175, 55, 0.2);
            transform: scale(1);
            z-index: 3;
        }

        /* Efeito de profundidade para cards ao redor do ativo */
        .service-card.active + .service-card,
        .service-card.active + .service-card + .service-card {
            transform: scale(0.95);
            opacity: 0.95;
            z-index: 2;
        }

        .service-card:not(.active) {
            opacity: 0.85; /* Cards não ativos são mais transparentes */
        }
        
        /* Garantir que o conteúdo não exceda os limites do card */
        .service-title, .service-price, .service-description, .service-benefits {
            width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        /* Ajustes específicos para dispositivos móveis */
        @media (max-width: 768px) {
            .service-card {
                flex: 0 0 calc(100vw - 2rem); /* Ocupa 90% da largura da viewport com margem */
                max-width: calc(100vw - 2rem);
                min-width: 0;
                max-height: 300px; /* Limita a altura */
                padding: 1rem 1rem; /* Reduz padding para caber melhor */
                margin: 0 auto; /* Centraliza o card */
                overflow: hidden; /* Esconde conteúdo excedente */
            }
            .service-card.active {
                transform: scale(0.98);
            }
            .service-card:hover {
                transform: translateY(-5px) scale(0.96);
            }

            .carousel {
                gap: 1rem; /* Espaçamento entre cards */
                padding: 0;
                justify-content: center; /* Centraliza os cards */
            }

            .carousel-wrapper {
                padding: 1rem 0;
                margin: 0 2rem; /* Compensar o padding do container */
                width: calc(100% + 2rem);
            }
            
            /* Reduzir tamanho dos textos em mobile para melhor encaixe */
            .service-title {
                font-size: 1.3rem;
            }
            .service-price {
                font-size: 1.1rem;
                margin-bottom: 0.7rem;
            }
            .service-description {
                font-size: 0.85rem; /* Texto menor para caber */
                margin-bottom: 0.5rem;
                -webkit-line-clamp: 3; /* Mostra mais linhas se necessário */
            }
            .service-benefits {
                font-size: 0.75rem;
                margin-bottom: 1.5rem;
            }
        }

        .whatsapp-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.6rem 1.2rem; /* Reduz padding */
            background: linear-gradient(90deg, #ff9f43, #ff6b9d); /* Gradiente semelhante à imagem */
            border: none;
            border-radius: 50px;
            color: white;
            text-decoration: none;
            font-weight: 600;
            width: 100%; /* Ocupa toda a largura do card */
            font-size: 0.9rem; /* Texto menor */
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-align: center;
            justify-content: center;
        }

        .whatsapp-btn svg {
            width: 16px; /* Reduz o ícone */
            height: 16px;
        }

        .whatsapp-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .whatsapp-btn:hover::before {
            left: 100%;
        }

        .whatsapp-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.3);
        }

        .carousel-nav {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin-top: 2rem;
            width: 100%;
            overflow-x: auto;
            padding: 1rem 0;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none; /* Firefox */
            text-align: center;
        }
        
        .carousel-nav::-webkit-scrollbar {
            display: none; /* Chrome, Safari */
        }

        .nav-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--text-muted);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            display: inline-block;
            margin: 0 6px;
        }

        .nav-dot.active {
            background: var(--accent-gold);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
        }

        .nav-dot::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid transparent;
            background-clip: content-box;
            background-origin: content-box;
            padding: 2px;
            box-sizing: border-box;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-dot.active::before {
            opacity: 1;
            border-color: var(--accent-gold);
        }
        
        /* Mobile adjustments for nav dots */
        @media (max-width: 768px) {
            .carousel-nav {
                position: relative;
                width: 100%;
                justify-content: center;
                padding: 0;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none; /* Firefox */
            }
            
            .carousel-nav::-webkit-scrollbar {
                display: none; /* Chrome, Safari */
            }
            
            .nav-dot {
                flex-shrink: 0;
            }
        }
        @media (max-width: 480px) {
            .carousel {
                gap: 0.5rem;
            }
            .service-card {
                flex: 0 0 calc(94vw - 2rem);
                max-width: calc(94vw - 2rem);
                min-width: 0;
                padding: 1.5rem 1rem;
                margin: 0 auto;
            }
            .logo-container {
                width: 150px;
                height: 150px;
            }
            .header-section {
                margin-bottom: 1rem;
                padding: 1rem 0;
            }
            
            /* Ajustes para os botões em mobile */
            .whatsapp-btn {
                padding: 0.8rem 1.5rem;
                font-size: 0.9rem;
            }
            
            /* Garantir que o card inteiro seja visível */
            .service-card.active {
                transform: scale(0.98);
            }
            
            /* Melhorar visualização dos nav dots em telas muito pequenas */
            .carousel-nav {
                gap: 0.8rem;
                margin-top: 1.5rem;
            }
            
            .nav-dot {
                width: 10px;
                height: 10px;
            }
            
            .nav-dot::before {
                inset: -3px;
            }
        }

        .contact-section {
            text-align: center;
            margin-top: 4rem;
            padding: 3rem 2rem;
            background: var(--bg-card);
            border-radius: 24px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            border: var(--border-luxury);
        }

        .contact-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--accent-gold);
            margin-bottom: 1rem;
        }

        .contact-info {
            color: var(--text-secondary);
            font-size: 1.1rem;
            line-height: 1.6;
        }

        /* Animations */
        @keyframes rotateGlow {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.05); }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .service-card {
            animation: fadeInUp 0.6s ease forwards;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .carousel {
                gap: 1.2rem;
            }
            .service-card {
                flex: 0 0 320px;
            }
        }
        @media (max-width: 768px) {
            .main-container {
                padding: 1rem;
            }
            .carousel {
                gap: 1rem;
                padding: 0;
            }
            .service-card {
                flex: 0 0 calc(90vw - 2rem);
                max-width: calc(90vw - 2rem);
                min-width: 0;
                padding: 2rem 1.2rem;
                margin: 0 auto;
            }
            .carousel-wrapper {
                padding: 1rem 0;
                margin: 0 -1rem; /* Compensar o padding do container */
                width: calc(100% + 2rem);
            }
        }
        @media (max-width: 480px) {
            .carousel {
                gap: 0.5rem;
            }
            .service-card {
                flex: 0 0 calc(94vw - 2rem);
                max-width: calc(94vw - 2rem);
                min-width: 0;
                padding: 1.5rem 1rem;
                margin: 0 auto;
            }
            .logo-container {
                width: 150px;
                height: 150px;
            }
            .header-section {
                margin-bottom: 1rem;
                padding: 1rem 0;
            }
            
            /* Ajustes para os botões em mobile */
            .whatsapp-btn {
                padding: 0.8rem 1.5rem;
                font-size: 0.9rem;
            }
            
            /* Garantir que o card inteiro seja visível */
            .service-card.active {
                transform: scale(0.98);
            }
            
            /* Melhorar visualização dos nav dots em telas muito pequenas */
            .carousel-nav {
                gap: 0.8rem;
                margin-top: 1.5rem;
            }
            
            .nav-dot {
                width: 10px;
                height: 10px;
            }
            
            .nav-dot::before {
                inset: -3px;
            }
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        .service-card:focus,
        .nav-dot:focus,
        .whatsapp-btn:focus {
            outline: 2px solid var(--accent-gold);
            outline-offset: 2px;
        }

        /* Instagram button style */
        .instagram-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            background: linear-gradient(90deg, #a855f7, #ff6b9d);
            border: none;
            border-radius: 50px;
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            margin-top: 1.5rem;
        }
        .instagram-btn svg {
            width: 20px;
            height: 20px;
        }
        .instagram-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.3);
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    
    <div class="main-container">
        <header class="header-section">
            <div class="logo-container">
                <img src="https://images.unsplash.com/photo-1562322140-8baeececf3df?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" 
                     alt="Elegance Beauty Salon" 
                     class="profile-image">
            </div>
            <h1 class="brand-title">VEEHS BEAUTY</h1>
            <p class="brand-subtitle">CUIDADO CAPÍLAR</p>
            <div class="rotating-message" id="rotating-message"></div>
        </header>

        <main class="services-section">
            <h2 class="section-title">Serviços</h2>
            
            <div class="carousel-wrapper">
                <div class="carousel" id="carousel"></div>
            </div>
            
            <div class="carousel-nav" id="carousel-nav"></div>
        </main>

        <section class="contact-section">
            <h3 class="contact-title">Seja sua melhor versão</h3>
            <p class="contact-info">
                Você importa e seus cabelos também.<br>
                Entre em contato e se realize.
            </p>
        </section>
    </div>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script>
    // Messages rotation
    const luxuryMessages = [
        'Bem-vindo(a) à VEEHS BEAUTY, onde o cuidado capilar encontra a verdadeira sofisticação.',
        'Transforme seus cabelos com tratamentos premium exclusivos da VEEHS BEAUTY.',
        'Na VEEHS BEAUTY, cada fio conta uma história de beleza e saúde.',
        'Desperte sua melhor versão com os cuidados capilares de excelência da VEEHS BEAUTY.',
        'Celebre o verão de 2025 com cabelos radiantes na VEEHS BEAUTY – agende já!',
        'VEEHS BEAUTY: elegância, vitalidade e resultados que impressionam.'
    ];
    
    let msgIndex = 0;
    const msgElement = document.getElementById('rotating-message');
    
    function rotateMessage() {
        gsap.to(msgElement, {
            opacity: 0,
            duration: 0.5,
            onComplete: () => {
                msgElement.textContent = luxuryMessages[msgIndex];
                gsap.to(msgElement, { opacity: 1, duration: 0.5 });
                msgIndex = (msgIndex + 1) % luxuryMessages.length;
            }
        });
    }
    
    setInterval(rotateMessage, 4000);
    rotateMessage();

    // Premium services data
    const services = [
        {
            id: 'corte-premium',
            title: 'Corte Premium',
            price: 'A partir de R$ 120',
            description: 'Corte personalizado com técnicas avançadas, análise facial e finalização profissional com produtos de luxo.',
            benefits: 'Inclui consultoria de estilo, lavagem terapêutica e styling completo.',
            icon: `<svg viewBox="0 0 24 24"><path d="M20.71 19.29l-6.4-6.4 2.3-2.3a3.5 3.5 0 10-1.41-1.41l-2.3 2.3-6.4-6.4a1 1 0 10-1.42 1.42l6.4 6.4-2.3 2.3a3.5 3.5 0 101.41 1.41l2.3-2.3 6.4 6.4a1 1 0 001.42-1.42zM7.5 20A1.5 1.5 0 119 18.5 1.5 1.5 0 017.5 20zm0-13A1.5 1.5 0 119 5.5 1.5 1.5 0 017.5 7z"/></svg>`,
            whatsapp: 'Olá! Gostaria de agendar um corte premium.'
        },
        {
            id: 'hidratacao-luxo',
            title: 'Hidratação de Luxo',
            price: 'A partir de R$ 150',
            description: 'Tratamento intensivo com produtos importados e tecnologia de ponta para máxima hidratação e brilho.',
            benefits: 'Produtos premium, massagem relaxante e resultados duradouros.',
            icon: `<svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 7.58 5 12c0 3.87 3.13 7 7 7s7-3.13 7-7c0-4.42-3.13-10-7-10zm0 15c-2.76 0-5-2.24-5-5 0-2.76 2.24-7 5-7s5 4.24 5 7c0 2.76-2.24 5-5 5z"/></svg>`,
            whatsapp: 'Olá! Gostaria de agendar uma hidratação de luxo.'
        },
        {
            id: 'alisamento-exclusive',
            title: 'Alisamento Exclusive',
            price: 'A partir de R$ 280',
            description: 'Alisamento com as melhores técnicas do mercado, produtos de alta performance e acabamento impecável.',
            benefits: 'Garantia de resultado, produtos seguros e acompanhamento pós-procedimento.',
            icon: `<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"/></svg>`,
            whatsapp: 'Olá! Gostaria de agendar um alisamento exclusive.'
        },
        {
            id: 'coloracao-artistica',
            title: 'Coloração Artística',
            price: 'A partir de R$ 200',
            description: 'Coloração personalizada com técnicas inovadoras, cores exclusivas e efeitos únicos.',
            benefits: 'Consultoria de coloração, teste de mecha e manutenção inclusa.',
            icon: `<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12c0 5.52 4.48 10 10 10s10-4.48 10-10C22 6.48 17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-4.41 3.59-8 8-8s8 3.59 8 8c0 4.41-3.59 8-8 8z"/></svg>`,
            whatsapp: 'Olá! Gostaria de agendar uma coloração artística.'
        },
        {
            id: 'nutricao-intensiva',
            title: 'Nutrição Intensiva',
            price: 'A partir de R$ 160',
            description: 'Tratamento nutritivo profundo com ativos de última geração para revitalização completa dos fios.',
            benefits: 'Diagnóstico capilar, produtos personalizados e protocolo exclusivo.',
            icon: `<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12c0 5.52 4.48 10 10 10s10-4.48 10-10C22 6.48 17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-4.41 3.59-8 8-8s8 3.59 8 8c0 4.41-3.59 8-8 8z"/></svg>`,
            whatsapp: 'Olá! Gostaria de agendar uma nutrição intensiva.'
        },
        {
            id: 'reconstrucao-total',
            title: 'Reconstrução Total',
            price: 'A partir de R$ 180',
            description: 'Reconstrução molecular avançada para cabelos severamente danificados com tecnologia regenerativa.',
            benefits: 'Avaliação tricológica, tratamento em etapas e acompanhamento completo.',
            icon: `<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12c0 5.52 4.48 10 10 10s10-4.48 10-10C22 6.48 17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-4.41 3.59-8 8-8s8 3.59 8 8c0 4.41-3.59 8-8 8z"/></svg>`,
            whatsapp: 'Olá! Gostaria de agendar uma reconstrução total.'
        }
    ];

    // Carousel functionality
    const carousel = document.getElementById('carousel');
    const nav = document.getElementById('carousel-nav');
    let currentIndex = 0;
    let isAutoPlaying = true;
    let autoPlayInterval;
    let cardElements = []; // Referência para os cards
    let clonedCards = []; // Armazenar referências de cards clonados

    function createServiceCard(service, index) {
        return `
            <div class="service-card" 
                 data-index="${index}" 
                 tabindex="0" 
                 role="button" 
                 aria-label="Serviço ${service.title}">
                <h3 class="service-title">${service.title}</h3>
                <div class="service-price">${service.price}</div>
                <p class="service-description">${service.description}</p>
                <p class="service-benefits">${service.benefits}</p>
                <a href="https://wa.me/5511999999999?text=${encodeURIComponent(service.whatsapp)}" 
                   class="whatsapp-btn" 
                   target="_blank" 
                   rel="noopener noreferrer"
                   aria-label="Agendar ${service.title} via WhatsApp">
                    <svg width="20" height="20" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/>
                    </svg>
                    Agendar Agora
                </a>
            </div>
        `;
    }

    function renderCarousel() {
        // Gerar os cards originais
        const originalHTML = services.map(createServiceCard).join('');
        carousel.innerHTML = originalHTML;
        
        // Buscar os elementos de card após renderização
        cardElements = Array.from(carousel.querySelectorAll('.service-card'));
        
        // Clonar alguns cards do início para o final e vice-versa para criar a ilusão de carrossel infinito
        // Isso permite uma rolagem circular sem saltos
        for (let i = 0; i < 3; i++) {
            // Clonar os primeiros cards para o final
            const clone = cardElements[i].cloneNode(true);
            clone.setAttribute('data-clone', 'true');
            clone.setAttribute('data-original-index', i);
            carousel.appendChild(clone);
            clonedCards.push(clone);
            
            // Clonar os últimos cards para o início
            const lastIndex = services.length - 1 - i;
            const lastClone = cardElements[lastIndex].cloneNode(true);
            lastClone.setAttribute('data-clone', 'true');
            lastClone.setAttribute('data-original-index', lastIndex);
            carousel.prepend(lastClone);
            clonedCards.push(lastClone);
        }
        
        // Atualizar a lista de cards após clonagem
        cardElements = Array.from(carousel.querySelectorAll('.service-card'));
        
        renderNavigation();
        // Ajustar para que comece pelo primeiro card real (não clone)
        currentIndex = 3; // Os três primeiros são clones
        updateCarousel(false); // Sem animação inicialmente
        addEventListeners();
    }

    function renderNavigation() {
        nav.innerHTML = services.map((_, index) => 
            `<div class="nav-dot ${index === (currentIndex - 3) % services.length ? 'active' : ''}" 
                  data-index="${index}" 
                  tabindex="0" 
                  role="button" 
                  aria-label="Ir para serviço ${index + 1}"></div>`
        ).join('');
        
        // Adicionar listeners específicos para os nav dots
        const navDots = nav.querySelectorAll('.nav-dot');
        navDots.forEach((dot, index) => {
            dot.addEventListener('click', () => goToSlide(index));
            dot.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    goToSlide(index);
                }
            });
        });
    }

    function updateCarousel(animate = true) {
        const cards = carousel.querySelectorAll('.service-card');
        const dots = nav.querySelectorAll('.nav-dot');
        
        // Determinar o índice real (sem considerar clones)
        let realIndex = currentIndex;
        if (currentIndex < 3) {
            // Se estivermos nos clones iniciais
            realIndex = services.length - (3 - currentIndex);
        } else if (currentIndex >= services.length + 3) {
            // Se estivermos nos clones finais
            realIndex = currentIndex - services.length - 3;
        } else {
            // Cards reais
            realIndex = currentIndex - 3;
        }
        
        // Atualizar estados ativos apenas para os dots de navegação
        dots.forEach((dot, index) => {
            dot.classList.toggle('active', index === realIndex);
            
            // Garantir que o dot ativo esteja visível em dispositivos móveis
            if (index === realIndex && window.innerWidth <= 768) {
                // Adicionar pequeno atraso para garantir que a navegação seja atualizada
                setTimeout(() => {
                    // Rolar o dot ativo para o centro da visualização
                    const dotRect = dot.getBoundingClientRect();
                    const navRect = nav.getBoundingClientRect();
                    const centerOffset = dotRect.left + (dotRect.width / 2) - navRect.left - (navRect.width / 2);
                    
                    if (Math.abs(centerOffset) > 10) { // Pequena tolerância
                        nav.scrollLeft += centerOffset;
                    }
                }, 100);
            }
        });

        // Calcular as dimensões do card e carrossel
        if (!cards.length) return;
        
        const card = cards[0];
        const cardStyle = window.getComputedStyle(card);
        const cardWidth = card.offsetWidth;
        const gap = parseInt(cardStyle.marginRight) || 32;
        const totalCardWidth = cardWidth + gap;
        const containerWidth = carousel.parentElement.offsetWidth;
        
        // Verificar se estamos em viewport mobile
        const isMobile = window.innerWidth <= 768;
        
        // Calcular a posição para centralizar o card atual
        let visibleCenter = containerWidth / 2;
        let cardOffset = cardWidth / 2;
        
        // Ajuste de centralização para mobile
        if (isMobile) {
            // Em dispositivos móveis, garantimos que o card fique totalmente visível
            let offset = -(currentIndex * (cardWidth + gap)) + (visibleCenter - cardOffset);
            
            // Garantir que não haja espaço em branco no início
            if (currentIndex <= 3) {
                offset = -(currentIndex * (cardWidth + gap)) + (containerWidth - cardWidth) / 2;
            }
            
            if (animate) {
                // Animar transição
                gsap.to(carousel, {
                    x: offset,
                    duration: 0.8,
                    ease: "power2.out",
                    onComplete: checkRepositioning
                });
                
                // Animar cards
                animateCards();
            } else {
                // Sem animação
                gsap.set(carousel, { x: offset });
                
                // Ajustar cards sem animação
                updateCardsAppearance(false);
            }
        } else {
            // Para desktop, mantemos o comportamento original
            let offset = -(currentIndex * totalCardWidth) + (visibleCenter - cardOffset);
            
            if (animate) {
                gsap.to(carousel, {
                    x: offset,
                    duration: 0.8,
                    ease: "power2.out",
                    onComplete: checkRepositioning
                });
                
                // Animar cards
                animateCards();
            } else {
                gsap.set(carousel, { x: offset });
                updateCardsAppearance(false);
            }
        }
        
        // Atualizar classe ativa para todos os cards
        cards.forEach((card, index) => {
            card.classList.toggle('active', index === currentIndex);
        });
        
        // Função para verificar e fazer o reposicionamento para o efeito circular
        function checkRepositioning() {
            // Verificar se precisamos reposicionar para criar o efeito circular
            if (currentIndex <= 3) {
                // Se chegamos nos clones iniciais, voltar para os originais sem animação
                currentIndex = services.length + currentIndex;
                let newOffset;
                if (isMobile) {
                    newOffset = -(currentIndex * (cardWidth + gap)) + (containerWidth - cardWidth) / 2;
                } else {
                    newOffset = -(currentIndex * totalCardWidth) + (visibleCenter - cardOffset);
                }
                gsap.set(carousel, { x: newOffset });
                updateCardsAppearance(false);
            } else if (currentIndex >= services.length + 4) {
                // Se chegamos nos clones finais, voltar para os originais sem animação
                currentIndex = currentIndex - services.length;
                let newOffset;
                if (isMobile) {
                    newOffset = -(currentIndex * (cardWidth + gap)) + (containerWidth - cardWidth) / 2;
                } else {
                    newOffset = -(currentIndex * totalCardWidth) + (visibleCenter - cardOffset);
                }
                gsap.set(carousel, { x: newOffset });
                updateCardsAppearance(false);
            }
        }
        
        // Função para animar os cards individualmente
        function animateCards() {
            cards.forEach((card, index) => {
                updateCardAppearance(card, index, true);
            });
        }
        
        // Atualiza a aparência dos cards sem animação
        function updateCardsAppearance(animate) {
            cards.forEach((card, index) => {
                updateCardAppearance(card, index, animate);
            });
        }
        
        // Atualiza um card individual
        function updateCardAppearance(card, index, animate) {
            let scale = isMobile ? 0.95 : 0.9;
            let opacity = 0.85;
            let zIndex = 1;
            
            if (index === currentIndex) {
                scale = isMobile ? 0.98 : 1; // Ligeiramente menor em mobile para garantir visibilidade
                opacity = 1;
                zIndex = 3;
            } else if (Math.abs(index - currentIndex) === 1) {
                scale = isMobile ? 0.95 : 0.95;
                opacity = 0.95;
                zIndex = 2;
            }
            
            if (animate) {
                gsap.to(card, {
                    scale: scale,
                    opacity: opacity,
                    zIndex: zIndex,
                    duration: 0.8,
                    ease: "power2.out"
                });
            } else {
                gsap.set(card, {
                    scale: scale,
                    opacity: opacity,
                    zIndex: zIndex
                });
            }
        }
    }

    function nextSlide() {
        currentIndex++;
        updateCarousel();
    }
    
    function prevSlide() {
        currentIndex--;
        updateCarousel();
    }

    function goToSlide(index) {
        // Converter o índice do dot para o índice real incluindo clones
        currentIndex = index + 3; // Adicionar 3 para compensar os clones iniciais
        updateCarousel();
        resetAutoPlay();
    }

    function startAutoPlay() {
        if (autoPlayInterval) clearInterval(autoPlayInterval);
        autoPlayInterval = setInterval(() => {
            if (isAutoPlaying) {
                nextSlide();
            }
        }, 5000);
    }

    function resetAutoPlay() {
        isAutoPlaying = false;
        setTimeout(() => {
            isAutoPlaying = true;
            startAutoPlay();
        }, 10000);
    }

    function addEventListeners() {
        // Keyboard navigation para todo o nav
        nav.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                if (e.target.classList.contains('nav-dot')) {
                    const index = parseInt(e.target.dataset.index);
                    goToSlide(index);
                }
            }
        });

        // Pause on hover
        carousel.addEventListener('mouseenter', () => {
            isAutoPlaying = false;
        });

        carousel.addEventListener('mouseleave', () => {
            isAutoPlaying = true;
        });

        // Touch events for mobile
        let startX = 0;
        let currentX = 0;
        let isDragging = false;

        carousel.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
            isDragging = true;
            isAutoPlaying = false;
        });

        carousel.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            currentX = e.touches[0].clientX;
            e.preventDefault();
        });

        carousel.addEventListener('touchend', (e) => {
            if (!isDragging) return;
            isDragging = false;
            
            const deltaX = startX - currentX;
            const threshold = 50;
            
            if (Math.abs(deltaX) > threshold) {
                if (deltaX > 0) {
                    // Swipe left - next slide
                    nextSlide();
                } else {
                    // Swipe right - previous slide
                    prevSlide();
                }
                resetAutoPlay();
            }
            
            setTimeout(() => {
                isAutoPlaying = true;
            }, 2000);
        });

        // Card click interactions
        carousel.addEventListener('click', (e) => {
            const card = e.target.closest('.service-card');
            if (card && !e.target.closest('.whatsapp-btn')) {
                const index = parseInt(card.dataset.index);
                // Se for um card clonado, usamos o índice original
                if (card.hasAttribute('data-clone')) {
                    const originalIndex = parseInt(card.getAttribute('data-original-index'));
                    goToSlide(originalIndex);
                } else if (index !== currentIndex - 3) { // Ajuste considerando os clones
                    goToSlide(index);
                }
            }
        });
    }

    // Particles.js configuration
    function initParticles() {
        if (window.particlesJS) {
            particlesJS('particles-js', {
                particles: {
                    number: { value: 80, density: { enable: true, value_area: 800 } },
                    color: { value: '#d4af37' },
                    shape: {
                        type: 'circle',
                        stroke: { width: 0, color: '#000000' },
                        polygon: { nb_sides: 5 }
                    },
                    opacity: {
                        value: 0.3,
                        random: true,
                        anim: { enable: true, speed: 1, opacity_min: 0.1, sync: false }
                    },
                    size: {
                        value: 3,
                        random: true,
                        anim: { enable: true, speed: 2, size_min: 0.1, sync: false }
                    },
                    line_linked: {
                        enable: true,
                        distance: 150,
                        color: '#d4af37',
                        opacity: 0.2,
                        width: 1
                    },
                    move: {
                        enable: true,
                        speed: 1,
                        direction: 'none',
                        random: true,
                        straight: false,
                        out_mode: 'out',
                        bounce: false,
                        attract: { enable: false, rotateX: 600, rotateY: 1200 }
                    }
                },
                interactivity: {
                    detect_on: 'canvas',
                    events: {
                        onhover: { enable: true, mode: 'repulse' },
                        onclick: { enable: true, mode: 'push' },
                        resize: true
                    },
                    modes: {
                        grab: { distance: 400, line_linked: { opacity: 1 } },
                        bubble: { distance: 400, size: 40, duration: 2, opacity: 8, speed: 3 },
                        repulse: { distance: 100, duration: 0.4 },
                        push: { particles_nb: 4 },
                        remove: { particles_nb: 2 }
                    }
                },
                retina_detect: true
            });
        }
    }

    // Enhanced animations
    function initAnimations() {
        // Animate header elements on load
        gsap.timeline()
            .from('.logo-container', { 
                scale: 0, 
                rotation: 180, 
                duration: 1.2, 
                ease: "back.out(1.7)" 
            })
            .from('.brand-title', { 
                y: 50, 
                opacity: 0, 
                duration: 0.8, 
                ease: "power2.out" 
            }, '-=0.5')
            .from('.brand-subtitle', { 
                y: 30, 
                opacity: 0, 
                duration: 0.6, 
                ease: "power2.out" 
            }, '-=0.3')
            .from('.rotating-message', { 
                y: 20, 
                opacity: 0, 
                duration: 0.5, 
                ease: "power2.out" 
            }, '-=0.2');

        // Animate section title
        gsap.from('.section-title', {
            y: 30,
            opacity: 0,
            duration: 0.8,
            ease: "power2.out",
            scrollTrigger: {
                trigger: '.section-title',
                start: 'top 80%'
            }
        });

        // Animate contact section
        gsap.from('.contact-section', {
            y: 50,
            opacity: 0,
            duration: 0.8,
            ease: "power2.out",
            scrollTrigger: {
                trigger: '.contact-section',
                start: 'top 80%'
            }
        });

        // Stagger animate service cards
        gsap.from('.service-card', {
            y: 60,
            opacity: 0,
            duration: 0.8,
            stagger: 0.1,
            ease: "power2.out",
            scrollTrigger: {
                trigger: '.carousel-wrapper',
                start: 'top 80%'
            }
        });
    }

    // Intersection Observer for performance
    function setupIntersectionObserver() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('in-view');
                    if (entry.target.classList.contains('contact-section')) {
                        addInstagramButton();
                    }
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.service-card, .contact-section').forEach(el => {
            observer.observe(el);
        });
    }

    // Smooth scroll for better UX
    function initSmoothScroll() {
        document.documentElement.style.scrollBehavior = 'smooth';
    }

    // Resize handler
    function handleResize() {
        // Forçar atualização do carrossel quando a tela muda de tamanho
        // Isso é importante para ajustar a centralização após rotação de dispositivo
        updateCarousel(false);
        
        // Debounce para evitar muitas chamadas durante o redimensionamento
        clearTimeout(window.resizeTimer);
        window.resizeTimer = setTimeout(() => {
            // Recalcular posição após parar o redimensionamento
            updateCarousel(true);
        }, 250);
    }

    // Initialize everything
    function init() {
        renderCarousel();
        startAutoPlay();
        initParticles();
        initAnimations();
        setupIntersectionObserver();
        initSmoothScroll();
        
        // Monitorar mudanças de tamanho de tela e orientação
        window.addEventListener('resize', handleResize);
        window.addEventListener('orientationchange', () => {
            // Pequeno atraso para garantir que o navegador tenha terminado a rotação
            setTimeout(handleResize, 300);
        });
        
        // Performance optimization
        window.addEventListener('scroll', () => {
            requestAnimationFrame(() => {
                // Add scroll-based animations here if needed
            });
        }, { passive: true });
    }

    // Wait for DOM and particles.js to load
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(init, 100);
    });

    // Accessibility improvements
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') {
            prevSlide();
            resetAutoPlay();
        } else if (e.key === 'ArrowRight') {
            nextSlide();
            resetAutoPlay();
        }
    });

    // Preload critical images
    function preloadImages() {
        const imagesToPreload = [
            'https://images.unsplash.com/photo-1562322140-8baeececf3df?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80'
        ];
        
        imagesToPreload.forEach(src => {
            const img = new Image();
            img.src = src;
        });
    }

    preloadImages();

    // Enhanced error handling
    window.addEventListener('error', (e) => {
        console.warn('Minor error handled:', e.error);
    });

    // Add luxury entrance animation
    function createLuxuryEntrance() {
        const tl = gsap.timeline();
        
        tl.set('body', { opacity: 0 })
          .to('body', { opacity: 1, duration: 0.5 })
          .from('.main-container', { 
              scale: 0.95, 
              opacity: 0, 
              duration: 1, 
              ease: "power2.out" 
          });
    }

    // Initialize luxury entrance
    createLuxuryEntrance();

    // Adiciona botão do Instagram quando contact-section estiver in-view
    function addInstagramButton() {
        const contactSection = document.querySelector('.contact-section');
        if (!contactSection.querySelector('.instagram-btn')) {
            const btn = document.createElement('a');
            btn.href = 'https://instagram.com/seu_instagram';
            btn.target = '_blank';
            btn.rel = 'noopener noreferrer';
            btn.className = 'instagram-btn';
            btn.setAttribute('aria-label', 'Visite nosso Instagram');
            btn.innerHTML = `
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect width="24" height="24" rx="6" fill="url(#paint0_linear)"/>
                  <path d="M16.5 7.5C16.7761 7.5 17 7.72386 17 8C17 8.27614 16.7761 8.5 16.5 8.5C16.2239 8.5 16 8.27614 16 8C16 7.72386 16.2239 7.5 16.5 7.5Z" fill="white"/>
                  <rect x="7" y="7" width="10" height="10" rx="5" stroke="white" stroke-width="2"/>
                  <defs>
                    <linearGradient id="paint0_linear" x1="0" y1="0" x2="24" y2="24" gradientUnits="userSpaceOnUse">
                      <stop stop-color="#A855F7"/>
                      <stop offset="1" stop-color="#FF6B9D"/>
                    </linearGradient>
                  </defs>
                </svg>
                Instagram
            `;
            contactSection.appendChild(btn);
        }
    }
</script>